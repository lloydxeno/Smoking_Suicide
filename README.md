This repository accompanies the paper "Does the path from cigarette smoking to suicide death go through the hospital? A causal mediation analysis in a national Canadian sample" published in Tobacco Use Insights.

1. dataprep: This contains Stata code for creating the variables across waves of the Canadian Community Health Survey.
2. descstats: This contains Stata code for producing descriptive statistics.
3. mediation: This contains R code for creating 5 multiple imputations and the mediation model based on them.
4. paf: This contains R code for calculating the population attributable fractions of the direct and indirect effects.
5. oversamp: This contains R code for oversampling the number of suicide deaths as part of sensitivity analysis for the PAF calculation
